{"ast":null,"code":"import RootContext from\"../../providers/root\";import'./recording-menu.css';import React,{useEffect,useState,useContext}from'react';import axios from\"axios\";import ClassroomIMG from\"../../pages/home-page/classroom-stock.jpg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RecordingMenu(_ref){let{setMenuSlide,setKeywordCounts}=_ref;const{setCurrentPage}=useContext(RootContext);const[currentlyRecording,isCurrentlyRecording]=useState(false);const[driversList,setDriversList]=useState([]);const[defaultDriver,setDefaultDriver]=useState({});const startRecording=async()=>{try{isCurrentlyRecording(true);const response=await axios.get(\"http://localhost:5000/api/start_recording\");console.log(response.data);}catch(error){console.error(\"Error starting recording:\",error);isCurrentlyRecording(false);}};const stopRecording=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/stop_recording\");console.log(response.data);// Assuming the response contains the path to the saved audio file\nisCurrentlyRecording(false);console.log(response);}catch(error){console.error(\"Error stopping recording:\",error);isCurrentlyRecording(true);}};const getAudioDrivers=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/get_audio_drivers\");const driverList=response.data[0];const defaultDriver=response.data[1];setDriversList(driverList);setDefaultDriver(defaultDriver);}catch(error){console.error(\"Error, couldn't retrieve drivers:\",error);}};const submit=async()=>{setMenuSlide(\"loading\");try{const response=await axios.get(\"http://localhost:5000/api/submit-audio\");setKeywordCounts(response.data);}catch(error){console.error(\"lol:\",error);}setMenuSlide(\"results\");};const setCurrentDriver=async driver=>{try{const response=await axios.post(\"http://localhost:5000/api/set_driver/\".concat(driver),{headers:{\"Content-Type\":\"multipart/form-data\"}});}catch(error){console.error(\"Error, couldn't set driver:\",error);}};useEffect(()=>{getAudioDrivers();},[]);return/*#__PURE__*/_jsxs(\"div\",{class:\"main\",style:{backgroundImage:\"url(\".concat(ClassroomIMG,\")\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"gg-record record-icon\",style:{color:currentlyRecording?'#F61B1C':'#0094D5'}}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',opacity:currentlyRecording?'1':'0',color:'#F61B1C',fontWeight:'bold'},children:\"RECORDING\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setCurrentDriver(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:defaultDriver.name,children:defaultDriver.name}),driversList.map((option,index)=>option.name!==defaultDriver.name&&/*#__PURE__*/_jsx(\"option\",{value:option.name,children:option.name},index))]}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#2FB362'},className:\"start\",onClick:startRecording,children:\"Start\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#E53430'},className:\"stop\",onClick:stopRecording,children:\"Stop\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#0094D5'},onClick:submit,children:\"Submit\"})]})]})})]});}export default RecordingMenu;","map":{"version":3,"names":["RootContext","React","useEffect","useState","useContext","axios","ClassroomIMG","jsx","_jsx","jsxs","_jsxs","RecordingMenu","_ref","setMenuSlide","setKeywordCounts","setCurrentPage","currentlyRecording","isCurrentlyRecording","driversList","setDriversList","defaultDriver","setDefaultDriver","startRecording","response","get","console","log","data","error","stopRecording","getAudioDrivers","driverList","submit","setCurrentDriver","driver","post","concat","headers","class","style","backgroundImage","children","className","color","textAlign","opacity","fontWeight","onChange","e","target","value","name","map","option","index","backgroundColor","onClick"],"sources":["C:/Users/GGPC/OneDrive/Documents/GitHub/TeachSpeak-AI/teach-speak-ai/src/components/home-page-recording-menu/recording-menu.jsx"],"sourcesContent":["import RootContext from \"../../providers/root\";\r\nimport './recording-menu.css';\r\nimport React, { useEffect, useState, useContext} from 'react';\r\nimport axios from \"axios\";\r\nimport ClassroomIMG from \"../../pages/home-page/classroom-stock.jpg\"\r\n\r\nfunction RecordingMenu({setMenuSlide, setKeywordCounts}) {\r\n    const {\r\n        setCurrentPage\r\n    } = useContext(RootContext);\r\n\r\n    const [currentlyRecording, isCurrentlyRecording] = useState(false);\r\n    const [driversList, setDriversList] = useState([]);\r\n    const [defaultDriver, setDefaultDriver] = useState({});\r\n\r\n    const startRecording = async () => {\r\n        try {\r\n            isCurrentlyRecording(true)\r\n            const response = await axios.get(\"http://localhost:5000/api/start_recording\");\r\n            console.log(response.data)\r\n        } catch (error) {\r\n            console.error(\"Error starting recording:\", error);\r\n            isCurrentlyRecording(false)\r\n        }\r\n    }\r\n\r\n    const stopRecording = async () => {\r\n        try {\r\n            const response = await axios.get(\"http://localhost:5000/api/stop_recording\");\r\n            console.log(response.data); // Assuming the response contains the path to the saved audio file\r\n            isCurrentlyRecording(false)\r\n            console.log(response)\r\n        } catch (error) {\r\n            console.error(\"Error stopping recording:\", error);\r\n            isCurrentlyRecording(true)\r\n        }\r\n    }\r\n\r\n    const getAudioDrivers = async () => {\r\n        try {\r\n            const response = await axios.get(\"http://localhost:5000/api/get_audio_drivers\");\r\n            const driverList = response.data[0];\r\n            const defaultDriver = response.data[1];\r\n            setDriversList(driverList);\r\n            setDefaultDriver(defaultDriver);\r\n        } catch (error) {\r\n            console.error(\"Error, couldn't retrieve drivers:\", error);\r\n        }\r\n    }\r\n\r\n    const submit = async () => {\r\n        setMenuSlide(\"loading\")\r\n        try {\r\n            const response = await axios.get(\"http://localhost:5000/api/submit-audio\");\r\n            setKeywordCounts(response.data)\r\n\r\n        } catch (error) {\r\n            console.error(\"lol:\", error);\r\n        }\r\n        setMenuSlide(\"results\")\r\n    }\r\n\r\n    const setCurrentDriver = async (driver) => {\r\n        try {\r\n            const response = await axios.post(\r\n                `http://localhost:5000/api/set_driver/${driver}`,\r\n                {\r\n                    headers: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                    },\r\n                }\r\n            );\r\n        } catch (error) {\r\n            console.error(\"Error, couldn't set driver:\", error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAudioDrivers();  \r\n    }, []);\r\n    \r\n    return (\r\n        <div class=\"main\" style={{ backgroundImage: `url(${ClassroomIMG})` }}>\r\n            <div className='overlay'></div>\r\n            <div className='container'>\r\n                <div className='center'>\r\n                    <i className={`gg-record record-icon`} style={{ color: currentlyRecording ? '#F61B1C' : '#0094D5' }}></i> \r\n                    <p style={{textAlign: 'center', opacity: currentlyRecording ? '1' : '0', color: '#F61B1C', fontWeight: 'bold'}}>RECORDING</p>\r\n                    <div className='button-container'>\r\n                        <select onChange={(e) => setCurrentDriver(e.target.value)}>\r\n                            <option value={defaultDriver.name}>{defaultDriver.name}</option>\r\n                            {driversList.map((option, index) => (\r\n                                option.name !== defaultDriver.name && (\r\n                                    <option key={index} value={option.name}>{option.name}</option>\r\n                                )\r\n                            ))}\r\n                        </select>\r\n                        <button style={{backgroundColor: '#2FB362'}} className='start' onClick={startRecording}>Start</button>\r\n                        <button style={{backgroundColor: '#E53430'}} className='stop' onClick={stopRecording}>Stop</button>\r\n                        <button style={{backgroundColor: '#0094D5'}} onClick={submit}>Submit</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RecordingMenu;\r\n"],"mappings":"AAAA,MAAO,CAAAA,WAAW,KAAM,sBAAsB,CAC9C,MAAO,sBAAsB,CAC7B,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAO,OAAO,CAC7D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,2CAA2C,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAmC,IAAlC,CAACC,YAAY,CAAEC,gBAAgB,CAAC,CAAAF,IAAA,CACnD,KAAM,CACFG,cACJ,CAAC,CAAGX,UAAU,CAACJ,WAAW,CAAC,CAE3B,KAAM,CAACgB,kBAAkB,CAAEC,oBAAoB,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAClE,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACiB,aAAa,CAAEC,gBAAgB,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEtD,KAAM,CAAAmB,cAAc,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACAL,oBAAoB,CAAC,IAAI,CAAC,CAC1B,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,2CAA2C,CAAC,CAC7EC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC,CAC9B,CAAE,MAAOC,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDX,oBAAoB,CAAC,KAAK,CAAC,CAC/B,CACJ,CAAC,CAED,KAAM,CAAAY,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,0CAA0C,CAAC,CAC5EC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC,CAAE;AAC5BV,oBAAoB,CAAC,KAAK,CAAC,CAC3BQ,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACzB,CAAE,MAAOK,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDX,oBAAoB,CAAC,IAAI,CAAC,CAC9B,CACJ,CAAC,CAED,KAAM,CAAAa,eAAe,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACA,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,6CAA6C,CAAC,CAC/E,KAAM,CAAAO,UAAU,CAAGR,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CACnC,KAAM,CAAAP,aAAa,CAAGG,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CACtCR,cAAc,CAACY,UAAU,CAAC,CAC1BV,gBAAgB,CAACD,aAAa,CAAC,CACnC,CAAE,MAAOQ,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAC,CAC7D,CACJ,CAAC,CAED,KAAM,CAAAI,MAAM,CAAG,KAAAA,CAAA,GAAY,CACvBnB,YAAY,CAAC,SAAS,CAAC,CACvB,GAAI,CACA,KAAM,CAAAU,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,CAAC,wCAAwC,CAAC,CAC1EV,gBAAgB,CAACS,QAAQ,CAACI,IAAI,CAAC,CAEnC,CAAE,MAAOC,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,MAAM,CAAEA,KAAK,CAAC,CAChC,CACAf,YAAY,CAAC,SAAS,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAoB,gBAAgB,CAAG,KAAO,CAAAC,MAAM,EAAK,CACvC,GAAI,CACA,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAAC8B,IAAI,yCAAAC,MAAA,CACWF,MAAM,EAC9C,CACIG,OAAO,CAAE,CACT,cAAc,CAAE,qBAChB,CACJ,CACJ,CAAC,CACL,CAAE,MAAOT,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACvD,CACJ,CAAC,CAED1B,SAAS,CAAC,IAAM,CACZ4B,eAAe,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIpB,KAAA,QAAK4B,KAAK,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,eAAe,QAAAJ,MAAA,CAAS9B,YAAY,KAAI,CAAE,CAAAmC,QAAA,eACjEjC,IAAA,QAAKkC,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/BlC,IAAA,QAAKkC,SAAS,CAAC,WAAW,CAAAD,QAAA,cACtB/B,KAAA,QAAKgC,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACnBjC,IAAA,MAAGkC,SAAS,wBAA0B,CAACH,KAAK,CAAE,CAAEI,KAAK,CAAE3B,kBAAkB,CAAG,SAAS,CAAG,SAAU,CAAE,CAAI,CAAC,cACzGR,IAAA,MAAG+B,KAAK,CAAE,CAACK,SAAS,CAAE,QAAQ,CAAEC,OAAO,CAAE7B,kBAAkB,CAAG,GAAG,CAAG,GAAG,CAAE2B,KAAK,CAAE,SAAS,CAAEG,UAAU,CAAE,MAAM,CAAE,CAAAL,QAAA,CAAC,WAAS,CAAG,CAAC,cAC7H/B,KAAA,QAAKgC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC7B/B,KAAA,WAAQqC,QAAQ,CAAGC,CAAC,EAAKf,gBAAgB,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAAT,QAAA,eACtDjC,IAAA,WAAQ0C,KAAK,CAAE9B,aAAa,CAAC+B,IAAK,CAAAV,QAAA,CAAErB,aAAa,CAAC+B,IAAI,CAAS,CAAC,CAC/DjC,WAAW,CAACkC,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,GAC3BD,MAAM,CAACF,IAAI,GAAK/B,aAAa,CAAC+B,IAAI,eAC9B3C,IAAA,WAAoB0C,KAAK,CAAEG,MAAM,CAACF,IAAK,CAAAV,QAAA,CAAEY,MAAM,CAACF,IAAI,EAAvCG,KAAgD,CAEpE,CAAC,EACE,CAAC,cACT9C,IAAA,WAAQ+B,KAAK,CAAE,CAACgB,eAAe,CAAE,SAAS,CAAE,CAACb,SAAS,CAAC,OAAO,CAACc,OAAO,CAAElC,cAAe,CAAAmB,QAAA,CAAC,OAAK,CAAQ,CAAC,cACtGjC,IAAA,WAAQ+B,KAAK,CAAE,CAACgB,eAAe,CAAE,SAAS,CAAE,CAACb,SAAS,CAAC,MAAM,CAACc,OAAO,CAAE3B,aAAc,CAAAY,QAAA,CAAC,MAAI,CAAQ,CAAC,cACnGjC,IAAA,WAAQ+B,KAAK,CAAE,CAACgB,eAAe,CAAE,SAAS,CAAE,CAACC,OAAO,CAAExB,MAAO,CAAAS,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC5E,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAA9B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}